%EXAMPLES FOR GENERAL_PHANTOM_GENERATOR
% Each block reproduces one of the original generator scripts using
% GENERAL_PHANTOM_GENERATOR.

%% 1. Original phantom_generator
pixel_size = 0.05;
dims = [180 300 200];
layers = struct('thickness',{10,20,30,[]}, 'value',{1,2,3,4});
vessels = struct(...
    'center_y',{70,190,130,230}, ...
    'center_z',{31,53,47,68}, ...
    'radius_y',{11,13,17,18}, ...
    'radius_z',{11,13,17,18}, ...
    'value',{5,5,5,5});
phantom1 = general_phantom_generator(pixel_size, dims, layers, vessels);

%% 2. Original phantom_generator_human
pixel_size = 0.2;
dims = [120 200 200];
layers = struct('thickness',{5,15,38,36,[]}, 'value',{1,2,3,4,3});
vessels = struct( ...
    'center_y',{81,30,150,74,135,105,115}, ...
    'center_z',{46,51,65,74,91,98,147}, ...
    'radius_y',{9,9,9,10,20,10,15}, ...
    'radius_z',{4,3,9,11,17,8,10}, ...
    'value',{5,6,7,8,8,9,10});
phantom2 = general_phantom_generator(pixel_size, dims, layers, vessels);

%% 3. Original phantom_generator_phantom
pixel_size = 0.2;
dims = [150 200 130];
layers = struct('thickness',{40,20,40,[]}, 'value',{1,2,3,4});
vessels = struct(...
    'center_y',{65,135,95,125}, ...
    'center_z',{37,37,70,70}, ...
    'radius_y',{3,3,3,3}, ...
    'radius_z',{3,3,3,3}, ...
    'value',{5,6,7,8});
phantom3 = general_phantom_generator(pixel_size, dims, layers, vessels);

%% 4. Original deep_phantom_generator
pixel_size = 0.05;
dims = [120 300 250];
layer1 = 5 + 5*rand; % random values as in original script
layer2 = 20 + 20*rand;
layer3 = 35 + 15*rand;
layers = struct('thickness',{layer1,layer2,layer3,[]}, 'value',{1,2,3,4});
vessels = struct(...
    'center_y',{70,190,240,80,200,150,50,240}, ...
    'center_z',{31,53,78,98,116,140,165,214}, ...
    'radius_y',{11,13,18,18,16,20,15,14}, ...
    'radius_z',{11,13,18,18,16,20,15,14}, ...
    'value',{5,6,7,8,8,9,10,11});
phantom4 = general_phantom_generator(pixel_size, dims, layers, vessels);

%% 5. One iteration from deep_phantom_more_generator
pixel_size = 0.2;
dims = [120 300 250];
base_cyl = { ...
    [70,31,11,5]; [190,53,13,6]; [240,78,18,7]; [80,98,18,8]; ...
    [200,116,16,9]; [150,140,20,10]; [50,165,15,11]; [240,214,14,12] };
% iteration 1 uses base parameters
vessels = struct('center_y', cellfun(@(c)c(1), base_cyl), ...
    'center_z', cellfun(@(c)c(2), base_cyl), ...
    'radius_y', cellfun(@(c)c(3), base_cyl), ...
    'radius_z', cellfun(@(c)c(3), base_cyl), ...
    'value',    cellfun(@(c)c(4), base_cyl));
layers = struct('thickness',{layer1,layer2,layer3,[]}, 'value',{1,2,3,4});
phantom5 = general_phantom_generator(pixel_size, dims, layers, vessels);

